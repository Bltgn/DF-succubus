interaction_fooccubus

[OBJECT:INTERACTION]

// CREATURE interation
[INTERACTION:PAIN_ELEMENTAL_EXPLOSION]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:MATERIAL]
		[IT_MATERIAL:FLOW:FIREJET]
	[I_TARGET:B:MATERIAL]
		[IT_MATERIAL:MATERIAL:INORGANIC:NONE:UNDIRECTED_DUST]
	[I_TARGET:D:LOCATION]
		[IT_LOCATION:CONTEXT_LOCATION]
	[I_TARGET:E:LOCATION]
		[IT_LOCATION:CONTEXT_LOCATION]
		[IT_MANUAL_INPUT:target]
	[I_TARGET:F:MATERIAL]
		[IT_MATERIAL:MATERIAL:INORGANIC:NONE:UNDIRECTED_VAPOR]
	[I_TARGET:G:MATERIAL]
		[IT_MATERIAL:FLOW:FIREBALL]
	[I_EFFECT:MATERIAL_EMISSION]
		[IE_TARGET:A]
		[IE_TARGET:D]
		[IE_TARGET:E]
		[IE_IMMEDIATE]
	[I_EFFECT:MATERIAL_EMISSION]
		[IE_TARGET:F]
		[IE_TARGET:D]
		[IE_TARGET:E]
		[IE_IMMEDIATE]
	[I_EFFECT:MATERIAL_EMISSION]
		[IE_TARGET:B]
		[IE_TARGET:D]
		[IE_TARGET:E]
		[IE_IMMEDIATE]
	[I_EFFECT:MATERIAL_EMISSION]
		[IE_TARGET:G]
		[IE_TARGET:D]
		[IE_TARGET:E]
		[IE_IMMEDIATE]

[INTERACTION:TENTACLE_CLEAN] // clean the creature + add 30% speed
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_AFFECTED_CLASS:FOOCCUBUS_SENTIENT]
		[IT_MANUAL_INPUT:succubus]
	[I_EFFECT:CONTACT]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
	[I_EFFECT:CLEAN]
		[IE_TARGET:A]
		[IE_GRIME_LEVEL:2]
		[IE_IMMEDIATE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_SPEED_CHANGE:SPEED_PERC:130:START:0:END:1000]

[INTERACTION:MONSTER_HIDE] // sneak
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
	[I_EFFECT:HIDE]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[IE_LOCATION:NO_WATER:NO_MAGMA]

[INTERACTION:SOUL_WISP_BUFF] // Increases skill roll
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_AFFECTED_CLASS:FOOCCUBUS_SENTIENT]
		[IT_MANUAL_INPUT:succubus]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[SYN_NAME:focused thoughts]
			[CE_SKILL_ROLL_ADJUST:PERC:125:PERC_ON:100:START:0:END:1000]

[INTERACTION:RAT_THING_TELEPORT] // teleport
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_MANUAL_INPUT:target]
	[I_TARGET:SELF:LOCATION]
		[IT_LOCATION:CONTEXT_LOCATION]
	[I_TARGET:GAS:MATERIAL]
		[IT_MATERIAL:MATERIAL:INORGANIC:EERIE_SMOKE:UNDIRECTED_GAS]
	[I_EFFECT:MATERIAL_EMISSION]
		[IE_TARGET:GAS]
		[IE_TARGET:SELF]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_SPEED_CHANGE:SPEED_PERC:90:START:0:END:10]
			[SYN_CLASS:\COMMAND]
			[SYN_CLASS:succubus/unit-teleport]
			[SYN_CLASS:\UNIT_ID]
			[SYN_CLASS:RAT_THING]

// Conversions
[INTERACTION:CORRUPT_PRISONERS]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_FORBIDDEN:NOT_LIVING]
		[IT_FORBIDDEN:OPPOSED_TO_LIFE]
		[IT_AFFECTED_CREATURE:DWARF:ALL]
		[IT_AFFECTED_CREATURE:HUMAN:ALL]
		[IT_AFFECTED_CREATURE:ELF:ALL]
		[IT_AFFECTED_CREATURE:KOBOLD:ALL]
		[IT_AFFECTED_CREATURE:GOBLIN:ALL]
		[IT_AFFECTED_CREATURE:FOOCCUBUS:ALL]
		[IT_MANUAL_INPUT:sentient creature]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:DWARF:FEMALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:DEVIL_FEMALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:DWARF:MALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:DEVIL_MALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:HUMAN:FEMALE]
			[SYN_AFFECTED_CREATURE:ELF:FEMALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:CAMBION_FEMALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:HUMAN:MALE]
			[SYN_AFFECTED_CREATURE:ELF:MALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:CAMBION_MALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:KOBOLD:FEMALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:IMP_FEMALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:KOBOLD:MALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:IMP_MALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:GOBLIN:FEMALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:HELLION_FEMALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:GOBLIN:MALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:HELLION_MALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:FOOCCUBUS:FEMALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:FEMALE]
		[SYNDROME]
			[SYN_AFFECTED_CREATURE:FOOCCUBUS:MALE]
			[CE_BODY_TRANSFORMATION:PROB:100:START:0:END:5]
			[CE:CREATURE:SUMMONED_SOUL:GENERIC]
				[SYN_CLASS:\PERMANENT]
				[SYN_CLASS:FOOCCUBUS_DEEP]
				[SYN_CLASS:MALE]

[INTERACTION:CHARM_PRISONERS] // Apply a visual cue to distinguish charmed enemies
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_AFFECTED_CREATURE:DWARF:ALL]
		[IT_AFFECTED_CREATURE:HUMAN:ALL]
		[IT_AFFECTED_CREATURE:KOBOLD:ALL]
		[IT_AFFECTED_CREATURE:ELF:ALL]
		[IT_AFFECTED_CREATURE:GOBLIN:ALL]
		[IT_AFFECTED_CREATURE:FOOCCUBUS_DEEP:ALL]
		[IT_MANUAL_INPUT:sentient prisoner]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_ADD_TAG:NO_SLEEP:START:0]
			[CE_FLASH_TILE:TILE:'&':4:0:1:FREQUENCY:800:300:START:0]

[INTERACTION:CHARM_MINOTAUR] // Apply a visual cue to distinguish charmed enemies
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_AFFECTED_CREATURE:MINOTAUR:ALL]
		[IT_MANUAL_INPUT:minotaur]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_ADD_TAG:NO_SLEEP:START:0]
			[CE_FLASH_TILE:TILE:'&':4:0:1:FREQUENCY:800:300:START:0]

[INTERACTION:FOOCCUBUS_EMPTY] // Fake interaction to add battle report flavor
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_ADD_TAG:NO_SLEEP:START:0:END:10]

// Wrath
[INTERACTION:FOOCCUBUS_BERSERK_TRIGGER] // Ping part of berserk rage
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_MANUAL_INPUT:target]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_ADD_TAG:NO_SLEEP:START:0:END:10]
			[SYN_CLASS:\COMMAND]
			[SYN_CLASS:fovcommand11]
			[SYN_CLASS:\UNIT_ID]
			[SYN_CLASS:40]
			[SYN_CLASS:succubus/berserk]
			[SYN_CLASS:FOOCCUBUS]

// Lust
[INTERACTION:FOOCCUBUS_EXCITATION_TRIGGER] // Ping part of excitation
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_MANUAL_INPUT:target]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_ADD_TAG:NO_SLEEP:START:0:END:10]
			[SYN_CLASS:\COMMAND]
			[SYN_CLASS:fovcommand11]
			[SYN_CLASS:\UNIT_ID]
			[SYN_CLASS:40]
			[SYN_CLASS:succubus/excitation]
			[SYN_CLASS:FOOCCUBUS]

[INTERACTION:FOOCCUBUS_EXCITATION_SPASMS]
	[I_SOURCE:CREATURE_ACTION]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_MANUAL_INPUT:target]
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[SYNDROME]
			[CE_SKILL_ROLL_ADJUST:PERC:200:PERC_ON:100:START:0:END:75]
			[CE_PHYS_ATT_CHANGE:STRENGTH:300:0:START:0:END:500]
			[CE_PHYS_ATT_CHANGE:AGILITY:300:0:START:0:END:500]
			[CE_SPEED_CHANGE:SPEED_PERC:300:START:0:END:500]

[INTERACTION:LUST_SECRET]
	[I_SOURCE:CREATURE_ACTION]
	[I_SOURCE:SECRET]
		[IS_NAME:the secrets of lust]
		[IS_SPHERE:LUST]
		[IS_SPHERE:DEPRAVITY]
		[IS_SECRET_GOAL:IMMORTALITY]
		[IS_SECRET:SUPERNATURAL_LEARNING_POSSIBLE]
		[IS_SECRET:MUNDANE_RESEARCH_POSSIBLE]
		[IS_SECRET:MUNDANE_TEACHING_POSSIBLE]
		[IS_SECRET:MUNDANE_RECORDING_POSSIBLE:objects/text/book_instruction.txt:objects/text/secret_lust.txt]
	[I_TARGET:A:CREATURE]
		[IT_LOCATION:CONTEXT_CREATURE]
		[IT_REQUIRES:CAN_LEARN]
		[IT_REQUIRES:CAN_SPEAK]
		[IT_CANNOT_HAVE_SYNDROME_CLASS:LUST_SECRET] // todo
	[I_EFFECT:ADD_SYNDROME]
		[IE_TARGET:A]
		[IE_IMMEDIATE]
		[IE_ARENA_NAME:Concubine]
		[SYNDROME]
			[SYN_CLASS:LUST_SECRET]
			[CE_DISPLAY_NAME:NAME:concubine:concubines:concubine:START:0]
			// Heat
			[CE_DIZZINESS:SEV:60:PROB:100:RESISTABLE:SIZE_DILUTES:START:0]
				[CE:PERIODIC:MOON_PHASE:27:0]
			[CE_FLASH_TILE:TILE:'?':5:0:1:FREQUENCY:800:300:START:0:END:500]
				[CE:PERIODIC:MOON_PHASE:27:0]
			[CE_DISPLAY_NAME:NAME:lusty concubine:lusty concubines:lusty concubine:START:0]
				[CE:PERIODIC:MOON_PHASE:27:0]
			// Actions
			[CE_CAN_DO_INTERACTION:START:0]
				[CDI:ADV_NAME:Release pheromones]
				[CDI:USAGE_HINT:ATTACK]
				[CDI:INTERACTION:MATERIAL_EMISSION]
				[CDI:BP_REQUIRED:BY_CATEGORY:MOUTH]
				[CDI:FLOW:FIREJET]
				[CDI:TARGET:C:LINE_OF_SIGHT]
				[CDI:TARGET_RANGE:C:10]
				[CDI:MAX_TARGET_NUMBER:C:2]
				[CDI:WAIT_PERIOD:50]
			[CE_CAN_DO_INTERACTION:START:0]
				[CDI:ADV_NAME:Entice]
				[CDI:USAGE_HINT:ATTACK]
				[CDI:INTERACTION:MATERIAL_EMISSION]
				[CDI:BP_REQUIRED:BY_CATEGORY:HAND]
				[CDI:FLOW:FIREBALL]
				[CDI:TARGET:C:LINE_OF_SIGHT]
				[CDI:TARGET_RANGE:C:10]
				[CDI:MAX_TARGET_NUMBER:C:2]
				[CDI:WAIT_PERIOD:20]
			[CE_CAN_DO_INTERACTION:START:0] // Friendly
				[CDI:ADV_NAME:Caress]
				[CDI:USAGE_HINT:ATTACK]
				[CDI:INTERACTION:MATERIAL_EMISSION]
				[CDI:BP_REQUIRED:BY_CATEGORY:HAND]
				[CDI:FLOW:FIREBALL]
				[CDI:TARGET:C:LINE_OF_SIGHT]
				[CDI:TARGET_RANGE:C:10]
				[CDI:MAX_TARGET_NUMBER:C:2]
				[CDI:WAIT_PERIOD:20]
